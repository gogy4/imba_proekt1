{% extends "base.html" %}
{% load static %}
{% block title %}<title>Востребованность</title>{% endblock %}
{% block content %}
    <h2>Востребованность</h2>

    <h3>Динамика уровня зарплат по годам (Общая)</h3>
    <div class="table-graph-wrapper">
        <table>
            <thead>
                <tr>
                    <th>Год</th>
                    <th>Средняя Зарплата</th>
                </tr>
            </thead>
            <tbody>
                {% for row in dynamic_salary_all %}
                    <tr>
                        <td>{{ row.year }}</td>
                        <td>{{ row.average_salary }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <img src="{% static 'demand/img/dynamic_salary_all_plot.png' %}" alt="График" width="800" height="400">
    </div>

    <h3>Динамика количества вакансий по годам (Общая)</h3>
    <div class="table-graph-wrapper">
        <table>
            <thead>
                <tr>
                    <th>Год</th>
                    <th>Количество Вакансий</th>
                </tr>
            </thead>
            <tbody>
                {% for row in dynamic_count_all %}
                    <tr>
                        <td>{{ row.year }}</td>
                        <td>{{ row.vacancy_count }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <img src="{% static 'demand/img/dynamic_count_all_plot.png' %}" alt="График" width="1000" height="600">
    </div>

    <h3>Динамика уровня зарплат по годам (C/C++ программист)</h3>
    <div class="table-graph-wrapper">
        <table>
            <thead>
                <tr>
                    <th>Год</th>
                    <th>Средняя Зарплата</th>
                </tr>
            </thead>
            <tbody>
                {% for row in dynamic_salary_prof %}
                    <tr>
                        <td>{{ row.year }}</td>
                        <td>{{ row.average_salary }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <img src="{% static 'demand/img/dynamic_salary_c_cpp_plot.png' %}" alt="График" width="1000" height="600">
    </div>

    <h3>Динамика количества вакансий по годам (C/C++ программист)</h3>
    <div class="table-graph-wrapper">
        <table>
            <thead>
                <tr>
                    <th>Год</th>
                    <th>Количество Вакансий</th>
                </tr>
            </thead>
            <tbody>
                {% for row in dynamic_count_prof %}
                    <tr>
                        <td>{{ row.year }}</td>
                        <td>{{ row.vacancy_count }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <img src="{% static 'demand/img/dynamic_count_c_cpp_plot.png' %}" alt="График" width="1000" height="600">
    </div>

{% endblock %}
